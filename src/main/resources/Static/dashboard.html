<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ResumeGenius AI â€” Recruiter Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="config.js"></script> 

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: { dark: '#0f0f1a', card: '#1a1f2d', primary: '#4a6cf7', accent: '#6dd3ff' }
                    },
                    fontFamily: { sans: ['Poppins', 'sans-serif'] }
                }
            }
        }
    </script>
    <style>
        .glass-nav { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(255, 255, 255, 0.3); }
        .text-gradient { background: linear-gradient(135deg, #4a6cf7 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .shortlisted { border: 2px solid #34d399; box-shadow: 0 0 10px rgba(52, 211, 153, 0.2); }
        .score-pill { min-width:60px; text-align:center; border-radius:9999px; padding:4px 8px; font-weight:700; font-size: 0.875rem; }
        .chart-wrap { height: 160px; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #475569; border-radius: 10px; }
    </style>
</head>

<body class="bg-brand-dark font-sans text-gray-200">
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 pt-32">
        <div class="text-center mb-12">
            <h1 class="text-5xl font-extrabold text-gradient tracking-tight">AI Candidate Analytics</h1>
            <p class="text-gray-400 mt-3 text-lg font-light">Dynamic insights fetched directly from your recruiter database.</p>
        </div>

        <div class="grid grid-cols-2 lg:grid-cols-4 bg-brand-card rounded-xl shadow-2xl border border-gray-700/50 mb-10 divide-x divide-gray-700/50">
            <div class="p-6 text-center">
                <p class="text-sm font-medium text-gray-400">Total Candidates</p>
                <p id="totalCount" class="text-3xl font-extrabold text-white mt-1">0</p>
            </div>
            <div class="p-6 text-center">
                <p class="text-sm font-medium text-gray-400">Shortlisted</p>
                <p id="shortlistCount" class="text-3xl font-extrabold text-green-400 mt-1">0</p>
            </div>
            <div class="p-6 text-center">
                <p class="text-sm font-medium text-gray-400">Avg. Match Score</p>
                <p id="avgScore" class="text-3xl font-extrabold text-yellow-400 mt-1">0</p>
            </div>
            <div class="p-6 text-center">
                <p class="text-sm font-medium text-gray-400">Avg. Experience</p>
                <p id="avgExp" class="text-3xl font-extrabold text-purple-400 mt-1">0 Yrs</p>
            </div>
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <div id="filterSidebar" class="lg:col-span-3">
                <div class="bg-brand-card p-6 rounded-xl shadow-lg border border-gray-700/50 sticky top-24 space-y-6">
                    <h3 class="text-lg font-semibold text-white mb-4 border-b border-gray-700/50 pb-2">Filter Candidates</h3>
                    <input type="text" id="searchInput" placeholder="Search name/position..." class="bg-brand-dark text-white p-3 rounded-lg border border-gray-700 text-sm w-full">
                    
                    <div class="space-y-2">
                        <h4 class="text-sm font-semibold text-gray-300">Position</h4>
                        <div id="positionCheckboxes" class="space-y-2 max-h-40 overflow-y-auto pr-2 custom-scrollbar"></div>
                    </div>

                    <div class="space-y-2">
                        <h4 class="text-sm font-semibold text-gray-300">Match Score</h4>
                        <label class="flex items-center space-x-2 text-sm text-gray-300"><input type="checkbox" name="scoreFilter" value="90+" class="form-checkbox"><span>Elite (90+)</span><span id="count-90" class="ml-auto text-green-400">0</span></label>
                        <label class="flex items-center space-x-2 text-sm text-gray-300"><input type="checkbox" name="scoreFilter" value="80-89" class="form-checkbox"><span>Strong (80-89)</span><span id="count-80-89" class="ml-auto text-yellow-400">0</span></label>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-9">
                <div class="flex justify-between items-center mb-6">
                     <select id="sortSelect" class="bg-brand-card text-white p-2 rounded-lg border border-gray-700 text-sm">
                        <option value="score_desc">Sort By: Score (Highest)</option>
                        <option value="experience_desc">Sort By: Exp (Highest)</option>
                    </select>
                </div>
                <div id="candidateList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                <div id="noResults" class="hidden text-center text-gray-500 py-16"><p>No candidates found.</p></div>
            </div>
        </div>
    </main>

    <div id="detailModal" class="fixed inset-0 bg-black/80 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-brand-card rounded-xl shadow-2xl max-w-3xl w-full p-8 relative border border-gray-700/50">
            <button class="absolute top-4 right-4 text-gray-400" onclick="document.getElementById('detailModal').classList.add('hidden')"><i data-feather="x"></i></button>
            <h2 id="modalName" class="text-3xl font-bold text-white mb-0"></h2>
            <p id="modalPosition" class="text-brand-accent mb-6"></p>
            <div class="chart-wrap"><canvas id="atsChart"></canvas></div>
        </div>
    </div>

    <template id="cardTemplate">
      <div class="card bg-brand-card rounded-xl shadow-2xl p-6 flex flex-col h-full border-2 border-transparent hover:border-brand-primary/50 transition cursor-pointer" onclick="showDetailModal(this.dataset.id)">
        <div class="flex items-start justify-between">
            <div><h4 class="name text-xl font-bold text-white"></h4><div class="text-sm text-gray-400 position"></div></div>
            <div class="score-pill"></div>
        </div>
        <div class="mt-4 pt-4 border-t border-gray-700/50">
          <div class="text-sm text-gray-300">Exp: <span class="exp"></span></div>
          <div class="text-sm text-gray-300">Skills: <span class="skills"></span></div>
        </div>
        <div class="mt-4 pt-4 border-t border-gray-700 flex items-center justify-between">
          <label class="flex items-center gap-2 text-sm text-gray-400">
            <input type="checkbox" class="shortlistCheckbox form-checkbox"> Shortlist
          </label>
          <span class="text-brand-primary text-sm font-semibold">View Profile</span>
        </div>
      </div>
    </template>

    <script src="dashboard.js"></script>
</body>
</html>